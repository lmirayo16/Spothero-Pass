!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1beb2509-c197-4e10-b810-a543bffa8b73",e._sentryDebugIdIdentifier="sentry-dbid-1beb2509-c197-4e10-b810-a543bffa8b73")}catch(e){}}();var _sentryModuleMetadataGlobal="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_sentryModuleMetadataGlobal._sentryModuleMetadata=_sentryModuleMetadataGlobal._sentryModuleMetadata||{},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack]=Object.assign({},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack],{"_sentryBundlerPluginAppKey:sh-consumer-checkout-key":!0}),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[675],{61591:function(e,t,r){r.d(t,{E:function(){return n}});var n,i=r(82917),a=r(37705),o=r(88002),s=r.n(o),c=r(27789),u=r(24406),l=r(30278),d=r(40514),p=r(48510),f=r(78265),v=r(97458);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.VEHICLE_DEFAULT="addVehicleVehicleDefault",e.LICENSE_PLATE="addVehicleLicensePlate",e.STATE="addVehicleState",e.INFO_ID="addVehicleInfoId",e.DISPLAY_DESCRIPTION="addVehicleDisplayDescription"}(n||(n={}));t.Z=function(e){var t=e.hideDefaultCheckbox,r=void 0!==t&&t,o=(0,c.Gc)(),h=o.control,y=o.setValue,_=(0,p.z)().data,g=function(){var e=(0,a.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.WT)({search:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,v.jsxs)(u.xu,{"data-testid":"AddVehicle",children:[(0,v.jsx)(c.Qr,{name:n.INFO_ID,control:h,rules:{required:{value:!0,message:"Please select a vehicle. If your vehicle is not listed choose 'Vehicle Not Listed'."},onChange:function(e){var t;y(n.DISPLAY_DESCRIPTION,(null===(t=e.target.value)||void 0===t?void 0:t.label)||"")}},shouldUnregister:!0,render:function(e){var t,r=e.field,a=e.fieldState;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(u.xu,{width:"100%",marginTop:3,sx:(t={},(0,i.Z)(t,"#".concat(n.INFO_ID," > div"),{borderRadius:"md"}),(0,i.Z)(t,"#".concat(n.INFO_ID," > div > div"),{padding:0}),(0,i.Z)(t,"#".concat(n.INFO_ID," > div > div > div"),{margin:0}),t),"data-testid":"AddVehicle-autosuggest-vehicle",children:(0,v.jsx)(u._d,m(m({},r),{},{id:n.INFO_ID,label:"Make and Model",isInvalid:Boolean(a.error),getOptions:g,lineHeight:"1.4",paddingY:0,placeholder:"",leftElementStyles:{zIndex:"1",pointerEvents:"none"},leftElement:(0,v.jsx)(u.JO,{as:l.ol,width:4.5,height:4.5})}))}),a.error&&(0,v.jsx)(u.xu,{color:"error",marginTop:1,fontSize:"xs",children:a.error.message})]})}}),(0,v.jsx)(u.xu,{marginTop:4,marginBottom:4,children:(0,v.jsx)(d.Z,{control:h,name:n.LICENSE_PLATE})}),_.combinedOptions.length?(0,v.jsx)(u.xu,{marginBottom:4,children:(0,v.jsx)(c.Qr,{name:n.STATE,rules:{required:!1},control:h,shouldUnregister:!0,render:function(e){var t=e.field;return(0,v.jsx)(u.xu,{width:"100%",marginY:3,children:(0,v.jsx)(u.XG,m(m({},t),{},{isOptional:!0,id:n.STATE,label:"State or Province",placeholder:t.value?null:"Select a State or Province",fontSize:"base","data-testid":"AddVehicle-input-state",children:_.combinedOptions.map((function(e){return(0,v.jsx)("option",{value:e.value,children:e.label},e.value)}))}))})}})}):null,!r&&(0,v.jsx)(c.Qr,{name:n.VEHICLE_DEFAULT,control:h,shouldUnregister:!0,render:function(e){var t=e.field;return(0,v.jsx)(u.xu,{width:"100%",marginY:3,children:(0,v.jsx)(u.XZ,m(m({},t),{},{type:"checkbox",id:n.VEHICLE_DEFAULT,width:"full",cursor:"pointer","data-testid":"AddVehicle-checkbox-default",children:(0,v.jsx)(u.xu,{as:"span",fontSize:"base",children:"Make this my default vehicle"})}))})}})]})}},53653:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(82917),i=r(52983),a=r(24406),o=r(27789),s=r(48327),c=r.n(s),u={src:"/consumer-checkout/_next/static/media/exampleLicensePlate.26619b51.svg",height:82,width:159,blurWidth:0,blurHeight:0},l=r(97458);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t=e.control,r=e.name,n=e.defaultValue,s=void 0===n?"":n,d=e.isRequired,f=void 0!==d&&d,v=(0,i.useState)(!1),h=v[0],m=v[1],y=function(){m(!1)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Qr,{name:r,shouldUnregister:!0,defaultValue:s,rules:{required:{value:!0,message:"Please enter your license plate"},maxLength:10,minLength:1,pattern:{value:/^[a-zA-Z0-9]+$/,message:"Please enter a valid license plate"}},control:t,render:function(e){var t,n,i=e.field,o=e.fieldState;return(0,l.jsx)(a.BZ,{width:"100%",display:"block",marginY:3,children:(0,l.jsx)(a.kt,p(p({},i),{},{onChange:(n=i.onChange,function(e){if("string"===typeof e.target.value){var t=e.target.value.replace(/[^a-z0-9]/gi,"").toUpperCase();n(p(p({},e),{},{target:p(p({},e.target),{},{value:t})}))}else n(e)}),maxLength:10,isInvalid:o.invalid,errorMessage:null===(t=o.error)||void 0===t?void 0:t.message,id:r,label:"License Plate",helperText:"Only enter the main letters and numbers",width:"100%",isRequired:f,customRequiredText:"Required","data-testid":"AddVehicle-input-plate"}))})}}),(0,l.jsxs)(a.u_,{hasHeader:!0,hasFooter:!0,size:"sm",isOpen:h,onClose:y,children:[(0,l.jsx)(a.xB,{children:"License Plate Tips"}),(0,l.jsx)(a.fe,{children:(0,l.jsxs)(a.kC,{alignItems:"center",flexDirection:"column",width:"100%",children:[(0,l.jsx)(a.xu,{marginTop:3.5,children:(0,l.jsx)(c(),{loader:function(e){var t=e.src;return"".concat(t)},src:u,alt:"License Plate Example"})}),(0,l.jsx)(a.xv,{marginY:5,fontSize:"sm",fontWeight:"semibold",width:"100%",children:"Only enter the primary license plate code."}),(0,l.jsxs)(a.xu,{bgColor:"yellow.100",width:"100%",borderRadius:"base",paddingX:3,paddingY:2,children:[(0,l.jsx)(a.xv,{fontWeight:"semibold",fontSize:"sm",children:"Don't include:"}),(0,l.jsxs)(a.aV,{type:"unordered",paddingX:3,children:[(0,l.jsx)(a.HC,{marginBottom:0,children:"Small letters and numbers"}),(0,l.jsx)(a.HC,{marginBottom:0,children:"Special symbols like stars"}),(0,l.jsx)(a.HC,{marginBottom:0,children:"The state"}),(0,l.jsx)(a.HC,{marginBottom:0,children:"Hyphens"})]})]})]})}),(0,l.jsx)(a.mz,{children:(0,l.jsx)(a.zx,{onClick:y,variant:"primary",width:"100%",children:"Okay"})})]})]})}},40514:function(e,t,r){r.d(t,{Z:function(){return n.Z}});var n=r(53653)},17859:function(e,t,r){r.d(t,{EA:function(){return u},Jd:function(){return i},Tc:function(){return o},bP:function(){return c},pM:function(){return s},ts:function(){return a},uX:function(){return n}});var n={DELETED:"deleted",ARCHIVED:"archived",OFF:"off",OFF_ADMIN_VIEWABLE:"off_admin_viewable",ON:"on_sales_allowed",ON_SALES_NOT_ALLOWED:"on_sales_not_allowed",ON_DIRECT_LINK_ONLY:"on_direct_link_only"},i={QR_CODE:"qrcode",CODE_128:"code128",CODE_39:"code39_nochecksum"},a={SCAN_QR_CODE:"scan_qr_code",NO_GATE_DRIVE_IN_OUT:"no_gate_drive_in_out",GATE_DRIVE_IN_OUT:"gate_drive_in_out",SEE_VALET:"see_valet",SCAN_QR_CODE_PULL_A_TICKET:"scan_qr_code_then_pull_a_ticket",LPR_OR_SCAN_QR_CODE:"lpr_or_scan_qr_code",PULL_A_TICKET:"pull_a_ticket",LPR_ONLY:"lpr_only",VENGATE_SCAN_QR_CODE:"vengate_scan_qr_code",USE_URL_TO_OPEN_GATE:"use_url_to_open_gate",UNKNOWN:"unknown"},o=[a.LPR_ONLY,a.NO_GATE_DRIVE_IN_OUT,a.GATE_DRIVE_IN_OUT],s={SCAN_QR_CODE:"scan_qr_code",NO_GATE_DRIVE_OUT:"no_gate_drive_in_out",GATE_DRIVE_IN_OUT:"gate_drive_in_out",SEE_VALET:"see_valet",SEE_ATTENDANT:"see_attendant",PRESS_CALL_BUTTON:"press_call_button",INSERT_TICKET:"insert_ticket",LPR_ONLY:"lpr_only",LPR_OR_SCAN_QR_CODE:"lpr_or_scan_qr_code",USE_URL_TO_OPEN_GATE:"use_url_to_open_gate",UNKNOWN:"unknown"},c=[s.LPR_ONLY,s.NO_GATE_DRIVE_OUT,s.GATE_DRIVE_IN_OUT],u={VALET:"valet",LICENSE_PLATE:"license_plate"}},48510:function(e,t,r){r.d(t,{A:function(){return d},z:function(){return p}});var n=r(70781),i=r(37705),a=r(88002),o=r.n(a),s=r(17957),c=r(18922),u=function(e){var t=(0,c.Z)(e,2),r=t[0],n=t[1],i=r.states.map((function(e){return{value:e.name,label:e.value}})),a=n.states.map((function(e){return{value:e.name,label:e.value}})),o=i.concat(a);return o.sort((function(e,t){return e.label>t.label?1:-1})),{unitedStatesOptions:i,canadianOptions:a,combinedOptions:o}},l=function(){var e=(0,i.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.T.get("states/");case 3:return t=e.sent,e.abrupt("return",u(t.data.data.results));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",d);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),d={unitedStatesOptions:[],canadianOptions:[],combinedOptions:[]},p=function(){return(0,n.a)({queryKey:["states"],queryFn:function(){return l()},staleTime:1/0,placeholderData:d})}},55852:function(e,t,r){r.d(t,{AU:function(){return h},It:function(){return x},Je:function(){return _},Lc:function(){return y},W2:function(){return E},_o:function(){return g},gK:function(){return T},jO:function(){return w},tl:function(){return I},vu:function(){return b},wP:function(){return O}});var n=r(82917),i=r(37705),a=r(88002),o=r.n(a),s=r(17957),c=r(20355),u=r(78265),l=r(93118),d=r(5743),p=r(48765);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=10,m="phone_number,facility.phone_number_required,facility.operator_id,vehicle,event,access_hours,rate_title,access_hours_comment,monthly_agreement_link,amenities_full,rule_reservation_type,order_id,review,partner,after_first_month,facility.redemption",y=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a,d,p,f,h,y,_,g,b,E,O,T,w,x,I,P;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.reservationId,n=t.price,i=t.user,a=t.vehicleProfileId,d=void 0===a?null:a,p=t.accessKey,f=void 0===p?null:p,h=t.cardExternalId,y=void 0===h?null:h,_=t.refundAsCredit,g=void 0!==_&&_,b=t.guestVehicle,E=void 0===b?null:b,O=t.paymentFormVals,T=void 0===O?null:O,w=t.paymentRequest,x=void 0===w?null:w,r&&n){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("Reservation and Price required")));case 3:return I={price:n,include:m},T&&(I=v(v({},I),(0,l.mx)({formVals:T,email:(null===x||void 0===x?void 0:x.payerEmail)||"",user:i}))),f&&(I.access_key=f),d&&(I.vehicle_profile_id=d),g&&(I.refund_as_credit=!0),!g&&y&&(I.card_external_id=y),E&&!d&&((null===E||void 0===E?void 0:E.vehicleInfoId)===u.Q6?I.unlisted_model=!0:I.vehicle_info_id=null===E||void 0===E?void 0:E.vehicleInfoId,I.license_plate=null===E||void 0===E?void 0:E.licensePlateValue,null!==E&&void 0!==E&&E.licensePlateState&&(I.license_plate_state=null===E||void 0===E?void 0:E.licensePlateState)),e.next=12,s.T.post("/reservations/".concat(r,"/update-vehicle-info/"),I);case 12:return P=e.sent,e.abrupt("return",(0,c.qs)(P.data.data));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reservationId,n=t.phoneNumber,i=t.accessKey,e.next=3,s.T.patch("/reservations/".concat(r,"/update-phone-number/"),{phone_number:"+1".concat(n),access_key:i,include:m},{headers:{"SpotHero-Version":"2022-02-22","Content-Type":"application/json"}});case 3:return a=e.sent,e.abrupt("return",(0,c.qs)(a.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reservationId,n=t.accessKey,i=t.reason,a=t.refundAsCredit,e.next=3,s.T.post("/reservations/".concat(r,"/refund/"),{reason:i,access_key:n,refund_as_credit:a});case 3:return e.sent,e.abrupt("return",{});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reservationId,n=t.accessKey,e.next=3,s.T.get("/reservations/".concat(r,"/refund-eligibility/"),{headers:{"SpotHero-Version":"2022-02-22"},params:{access_key:n}});case 3:return i=e.sent,e.abrupt("return",(0,c.jK)(i.data.data));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.reservationId,n=t.starRating,i=t.comments,a=t.accessKey,c=t.prompts,r&&n){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("Reservation and star rating required")));case 3:return u={reservation:r,star_rating:n,prompt_ids:c,comments:i,access_key:a},e.abrupt("return",s.T.post("/reviews/",u));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.reservationId,n=t.accessKey,i=t.headers,a=void 0===i?{"SpotHero-Version":"2022-02-22"}:i,r){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("Reservation id required")));case 3:return e.next=5,s.T.get("reservations/".concat(r),{headers:a,params:v(v({},n?{access_key:n}:{}),{},{include:m})});case 5:return u=e.sent,e.abrupt("return",(0,c.qs)(u.data.data));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.reservationId,n=t.accessKey,r){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("Reservation id required")));case 3:return e.next=5,s.T.get("reservations/".concat(r,"/?access_key=").concat(n,"&include=next_steps"));case 5:return i=e.sent,e.abrupt("return",i.data.data.next_steps);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a,u,l,d,p,f,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.userId,n=t.page,i=void 0===n?1:n,a=t.headers,u=void 0===a?{}:a,l=t.params,d=void 0===l?{}:l,p=t.filterOutStatuses,f=void 0===p?[]:p,r){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("user id required")));case 3:return e.next=5,s.T.get("users/".concat(r,"/reservations/"),{headers:u,params:v(v({},d),{},{include:m,page:i,page_size:h})});case 5:return y=e.sent,e.abrupt("return",(0,c.EN)({userReservationsResponse:y.data,page:i,filterOutStatuses:f}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a,c,u,f,h,m,y,_,g,b,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.formVals,n=t.user,i=t.reservationId,a=t.accessKey,c=t.rateDiff,u=t.starts,f=t.ends,h=t.paymentRequest,m=void 0===h?null:h,y=t.refundAsCredit,_=void 0!==y&&y,g=t.cardExternalId,b=void 0===g?null:g,E={apply_sh_credit:n.status!==d.UserStatuses.GUEST,ends:f,starts:u,currency_type:c.currency.toLowerCase(),price:c.newTotalPrice,mixpanel_id:p.ZP.getAnonymousId(),access_key:a},r&&(E=v(v({},E),(0,l.mx)({formVals:r,email:(null===m||void 0===m?void 0:m.payerEmail)||"",user:n}))),_&&(E.refund_as_credit=!0),!_&&b&&(E.card_external_id=b),e.next=7,s.T.post("reservations/".concat(i,"/extend/"),E);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=(0,i.Z)(o().mark((function e(t){var r,n,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.reservationId,n=t.accessKey,i=t.phoneNumber,a={phone_number:i},n&&(a.access_key=n),e.next=5,s.T.post("/reservations/".concat(r,"/send-sms-parking-pass/"),a);case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},78265:function(e,t,r){r.d(t,{Q6:function(){return d},Wg:function(){return f},WT:function(){return p}});var n=r(37705),i=r(88002),a=r.n(i),o=r(17957),s=function(e){var t=e.slice(0,10).map((function(e){return{label:e.display_description,value:e.id}}));return t.push({label:"Vehicle Not Listed",value:d}),t},c=r(61591),u=r(30379),l=r(92704),d=0,p=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.search){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("Search term required")));case 3:return e.prev=3,e.next=6,o.T.get("vehicle-types/",{params:{search:r}});case 6:return n=e.sent,e.abrupt("return",s(n.data.data.results));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,i,s,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.userId,i=t.formVals,n){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("User id required")));case 3:return s={vehicle_info_id:i[c.E.INFO_ID].value,license_plate:i[c.E.LICENSE_PLATE],is_default:i[c.E.VEHICLE_DEFAULT]},(null===(r=i[c.E.STATE])||void 0===r?void 0:r.length)>0&&(s.license_plate_state=i[c.E.STATE]),i[c.E.INFO_ID].value===d&&(delete s.vehicle_info_id,s.unlisted_model=!0),e.next=8,o.T.post("/users/".concat(n,"/vehicles/"),s);case 8:return p=e.sent,e.abrupt("return",(0,l.KS)(u.default.camelizeKeys(p.data.data)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},85331:function(e,t,r){r.d(t,{Oe:function(){return s},TR:function(){return u},g5:function(){return c}});var n=r(30379),i=r(15261),a=r(39226),o=r(17859),s=function(e){var t=e.image,r=e.alt,n=e.width,a=void 0===n?750:n,o=e.height,s=void 0===o?512:o,c=e.quality,u=void 0===c?50:c;return{src:(0,i.IT)(t.urlTemplate,{WIDTH:a,HEIGHT:s,QUALITY:u}),alt:r,id:t.id,urlTemplate:t.urlTemplate}},c=function(e){if(!e||!e.enabled)return{parkingHint:null,warning:null};var t="",r="",n=null,a=null,s=null;if(o.Tc.includes(e.entry.slug)&&o.bP.includes(e.exit.slug)?(t="Just drive in & out.",s=o.EA.LICENSE_PLATE):e.entry.slug===o.ts.SEE_VALET&&e.exit.slug===o.pM.SEE_VALET&&(t="See valet at entrance and exit.",s=o.EA.VALET),e.entry.credentials.licensePlate?(r="Make sure your license plate is correct before entry.",a="Add license plate before entry."):e.exit.credentials.licensePlate&&(r="Make sure your license plate is correct before exit.",a="Add license plate before exit."),a){var c=[];e.consequences.chargedAtExit&&c.push("Double Charged"),e.consequences.tow&&c.push("Towed"),e.consequences.ticket&&c.push("Ticketed"),c.length>0&&(n="Don\u2019t Get ".concat((0,i.q1)(c)))}var u="".concat(t).concat(t&&r?" ":"").concat(r);return{parkingHint:u&&u.length>0?{text:u,icon:s}:null,warning:{header:n,body:a,showWarning:Boolean(a&&a.length>0)}}},u=function(e){var t=n.default.camelizeKeys(e);return{title:t.title,images:t.images.map((function(e){return s({image:e,alt:t.title})})),timezone:t.timezone,id:t.id,operatorId:t.operatorId,citySlug:t.city.toLowerCase().replaceAll(" ","-").replace(/[^\w-]+/g,""),city:t.city,streetAddress:t.streetAddress,status:t.status,state:t.state,barcodeType:t.barcodeType,oversizeSupported:t.oversizeFee>0||t.supportedFeeTypes.includes(a.jZ),gettingHere:(0,i.ZV)(t.gettingHere),addresses:t.addresses.map((function(e){return{city:e.city,state:e.state,streetAddress:e.streetAddress,zipcode:e.zipcode,types:e.types,latitude:e.latitude,longitude:e.longitude}})),phoneNumberRequired:t.phoneNumberRequired,licensePlateRequired:t.licensePlateRequired,allowUpdatingReservationAfterEntry:t.allowUpdatingReservationAfterEntry,redemptionInfo:c(t.redemption)}}},20355:function(e,t,r){r.d(t,{EN:function(){return E},Pz:function(){return g},jK:function(){return O},qs:function(){return b}});var n=r(92292),i=r(82917),a=r(39226),o=r(30379),s=r(15261),c=r(3219),u=r(46714),l=r(55852),d=r(85331);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v={no:function(){return"In/Out NOT allowed. Once you leave, that's it, my friend."},yes_fee:function(e){return"There is a ".concat(e.currency||"$").concat((0,s.T4)(e.fee).displayPrice," charge for each in/out.")},yes_limited:function(e){return"In/outs are limited to ".concat(e.limit," per ").concat(e.limit_type,".")},yes_limited_fee:function(e){return"In/outs are limited to ".concat(e.limit," per ").concat(e.limit_type,". Additional in/outs are allowed for a ").concat(e.currency||"$").concat((0,s.T4)(e.fee).displayPrice," fee.")}},h=function(e){var t=e.reservation,r=e.vehicle;return t.displayBarcode?a.dj.SCAN_CODE:a.Ax.some((function(e){return e===t.parkingPassType}))&&r&&Object.keys(r).length>0?a.dj.LICENSE_PLATE:a.dj.DISPLAY_ID},m=function(e){var t=e.starts,r=e.ends,n=u.Z.utc((0,u.Z)()),i=u.Z.utc(t),o=u.Z.utc(r);return n<i?a.Fl.NOT_STARTED:n>o?a.Fl.ENDED:a.Fl.ACTIVE},y=function(e){return e in a.Py?a.Py[e]:a.Py.DEFAULT},_=function(e){var t,r;return{arrivalInstructions:e.facility.airport.redemptionInstructions.arrival.map((function(e){return{id:e.id,text:(0,s.ZV)(e.text)}})),departureInstructions:e.facility.airport.redemptionInstructions.departure.map((function(e){return{id:e.id,text:(0,s.ZV)(e.text)}})),logos:e.facility.logos?e.facility.logos.map((function(e){return(0,d.Oe)({image:e,alt:"Logo"})})):[],shuttle:e.facility.airport.shuttle?{fastFrequency:e.facility.airport.shuttle.fastFrequency,slowFrequency:e.facility.airport.shuttle.slowFrequency,contactPhoneNumber:e.facility.airport.shuttle.contactPhoneNumber,duration:e.facility.airport.shuttle.duration,type:e.facility.airport.shuttle.type,hours:e.facility.airport.shuttle.hours?{text:e.facility.airport.shuttle.hours.text,periods:(null===(t=e.facility.airport.shuttle.hours.periods)||void 0===t?void 0:t.map((function(e){return{endDow:e.endDow,endTime:(0,u.Z)("1/1/1 ".concat(e.endTime)).format("h:mma"),startDow:e.startDow,startTime:(0,u.Z)("1/1/1 ".concat(e.startTime)).format("h:mma")}})))||[]}:null,images:(null===(r=e.facility.airport.shuttle.images)||void 0===r?void 0:r.length)>0?e.facility.airport.shuttle.images.map((function(e){return(0,d.Oe)({image:e,alt:"Shuttle Location Image"})})):[]}:null,details:e.facility.airport.details?{code:e.facility.airport.details.code}:null}},g=function(e){var t=o.default.camelizeKeys(e);return{orderId:t.orderId,accessKey:t.reservation.accessKey,reservationId:t.reservation.reservationId,ends:t.reservation.ends}},b=function(e){var t,r,i,l,p,g,b,E,O,T=o.default.camelizeKeys(e),w=T.reservationType===a.nc.MONTHLY,x=T.restrictions.map((function(e){return e.text.includes("Luxury")?"<b>".concat(e.text.replace(/(<([^>]+)>)/gi,""),"</b>"):e.text}));w&&(x=(0,n.Z)(function(e){var t=e.monthlyInOutDetail,r=e.parkingPassType,n=e.monthlyDescription,i=e.monthlyContractDetail,a=e.currencyType,o=e.facility.heightRestrictionDescription,c=(0,s.S_)(a),u=[y(r)];if(null!==o&&void 0!==o&&o.length&&u.unshift(o),null!==n&&void 0!==n&&n.length&&u.push(n),t&&v[t.inOutAllowed]){var l=v[t.inOutAllowed]({currency:c,fee:t.inOutFee,limit:t.inOutLimit,limit_type:t.inOutLimitType});u.push(l)}if(i&&i.contractRequired){var d=i.contractTerminationFee?"There is a ".concat(c).concat(i.contractTerminationFee," fee for cancellation."):"There is no fee for cancellation.",p=i.cancellationRequired?" If you cancel your contract, a ".concat(i.cancellationPeriod,"-day notice is required."):"",f="This location requires a ".concat(i.contractPeriod," month commitment. <b>").concat(d,"</b>").concat(p);u.push(f)}"247"===e.ruleReservationType&&u.push("No Vehicle Storage. No vehicles may be stored in this parking facility for more than 5 consecutive business days without exiting the facility. If you&apos;re planning on leaving your vehicle for an extended period of time, please contact the facility manager for approval. Any vehicle stored in this facility over 5 days without notification is subject to towing at the vehicle owner&apos;s expense.");return u}(T)));var I=function(e){var t=[],r=!1,n=e;if(null!==n&&void 0!==n&&n.length){var i=n[0],a=i.start_time,o=i.end_time;i.start_dow===i.end_dow&&a===o&&(r=!0)}return r?(t.push({type:"247"}),t):(null===n||void 0===n||n.forEach((function(e){var r,n=e.start_dow;if(e.start_dow!==e.end_dow&&(n="".concat(e.start_dow," \u2013 ").concat(e.end_dow)),e.start_time&&e.end_time){var i="YYYY-MM-DD HH:mm:ss",a="h:mma";r="".concat((0,u.Z)("2025-01-01 ".concat(e.start_time),i).format(a)," \u2013 ").concat((0,u.Z)("2025-01-01 ".concat(e.end_time),i).format(a))}else e.hours_type&&(r=e.hours_type);t.push({days:n,value:r,type:e.hours_type})})),t)}(e.access_hours),P=T.vehicle&&"DONTKNOW"!==(null===(t=T.vehicle.licensePlate)||void 0===t?void 0:t.value)&&"N/A"!==(null===(r=T.vehicle.licensePlate)||void 0===r?void 0:r.value)?{licensePlateValue:(0,s.ZG)(null===(i=T.vehicle.licensePlate)||void 0===i?void 0:i.value),makeLabel:(0,s.ZG)(null===(l=T.vehicle.info)||void 0===l?void 0:l.displayMake),modelLabel:(0,s.ZG)(null===(p=T.vehicle.info)||void 0===p?void 0:p.displayModel),vehicleProfileId:String(T.vehicle.id),isDefault:T.vehicle.isDefault,unlistedModel:(0,s.ZG)((null===(g=T.vehicle)||void 0===g?void 0:g.unlistedModel)||!T.vehicle.info),displayDescription:(null===(b=T.vehicle.info)||void 0===b?void 0:b.displayDescription)||"Missing Vehicle"}:null;return{redemptionType:h({reservation:T,vehicle:P}),timezone:T.timezone,starts:T.starts,ends:T.ends,entryTimestamp:T.entryTimestamp,exitTimestamp:T.exitTimestamp,vehicleRequired:T.facility.oversizeFee>0||T.facility.licensePlateRequired||T.facility.supportedFeeTypes.includes(a.jZ)||T.reservationType===a.nc.MONTHLY||a.Ax.includes(T.parkingPassType),city:{slug:T.city.slug,title:T.city.title,countryCode:T.city.countryCode},amenitiesFull:T.amenitiesFull.map((function(e){return{slug:e.slug,name:e.name}})),facility:(0,d.TR)(T.facility),restrictions:x,vehicle:P,displayId:T.displayId,rentalId:T.rentalId,currencyType:T.currencyType,reservationType:T.reservationType,parkingPassType:T.parkingPassType,displayBarcode:T.displayBarcode,priceBreakdown:{totalPrice:T.priceBreakdown.totalPrice,totalPaid:T.priceBreakdown.totalPrice-T.discountAmount-T.spotheroCreditUsed,totalPossibleRefund:T.priceBreakdown.totalPrice-T.discountAmount,items:T.priceBreakdown.items.map((function(e){return{price:e.price,shortDescription:e.shortDescription,type:e.type,isPromocodeEligible:(0,s.ZG)(e.isPromocodeEligible)}}))},discountAmount:T.discountAmount,spotheroCreditUsed:T.spotheroCreditUsed,paymentStatus:T.paymentStatus,stallName:T.stallName,reservationStatus:T.reservationStatus,canUpdateStartsAndEnds:T.canUpdateStartsAndEnds,monthlyAgreementLink:T.monthlyAgreementLink,monthlyRecurring:T.monthlyRecurring,monthlyInOutDetail:{inOutAllowed:(0,s.ZG)(null===(E=T.monthlyInOutDetail)||void 0===E?void 0:E.inOutAllowed)},phoneNumber:"N/A"!==(null===T||void 0===T?void 0:T.phoneNumber)?(0,s.ZG)(null===(O=T.phoneNumber)||void 0===O?void 0:O.replace(/^\+1/,"")):null,event:T.event?{title:T.event.title,id:T.event.id}:null,commuterRateDetails:{hasRate:T.onlineCommuterRate,description:T.onlineCommuterRateDescription},accessHours:I,accessHoursComment:T.accessHoursComment,rateTitle:T.rateTitle,renterId:T.renterId,redemptionInstructions:T.redemptionInstructions.map((function(e){return{id:e.id,text:(0,s.ZV)(e.text)}})),creditCard:T.creditCard?f(f({},(0,c.I)(T.creditCard)),{},{paypalEmail:T.creditCard.paypalEmail}):null,airport:T.facility.airport?_(T):null,ruleReservationType:(0,s.ZG)(T.ruleReservationType),activeStatus:m({starts:T.starts,ends:T.ends}),accessKey:(0,s.ZG)(T.accessKey),orderId:T.orderId,isTestReservation:T.isTestReservation,review:T.review||null,isReviewable:T.isReviewable,isBusinessRental:T.isBusinessRental,partner:T.partner?{displayName:T.partner.displayName,slug:T.partner.slug,updateTimesEnabled:T.partner.reservationUpdateTimesEnabled,updateVehicleEnabled:T.partner.reservationUpdateVehicleEnabled,phoneNumber:T.partner.customerServicePhoneNumber,phoneNumberFormatted:T.partner.customerServicePhoneNumberFormatted}:null,canRefundAsSpotheroCredit:T.canRefundAsSpotheroCredit,cancellationAllowed:T.cancellationAllowed,cancellationMinutes:T.cancellationMinutes,enteredAndCantChange:Boolean(!T.facility.allowUpdatingReservationAfterEntry&&T.entryTimestamp),addOns:T.addOns,afterFirstMonth:T.afterFirstMonth||[]}},E=function(e){var t=e.userReservationsResponse,r=e.page,n=e.filterOutStatuses,i=void 0===n?[]:n;return{reservations:t.data.results.map(b).filter((function(e){return!i.includes(e.activeStatus)})),pageCount:Math.ceil(t.meta.count/l.AU),currentPage:r}},O=function(e){var t=o.default.camelizeKeys(e);return{originalSourceRefundEligible:t.originalSourceRefund.isEligible,creditOnlyRefundEligible:t.creditOnlyRefund.isEligible}}}}]);