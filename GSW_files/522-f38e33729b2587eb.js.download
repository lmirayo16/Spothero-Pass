!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1b752d35-22de-4857-867d-fff4d2648ab8",e._sentryDebugIdIdentifier="sentry-dbid-1b752d35-22de-4857-867d-fff4d2648ab8")}catch(e){}}();var _sentryModuleMetadataGlobal="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_sentryModuleMetadataGlobal._sentryModuleMetadata=_sentryModuleMetadataGlobal._sentryModuleMetadata||{},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack]=Object.assign({},_sentryModuleMetadataGlobal._sentryModuleMetadata[(new _sentryModuleMetadataGlobal.Error).stack],{"_sentryBundlerPluginAppKey:sh-consumer-checkout-key":!0}),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{82076:function(e,t,r){"use strict";var n=r(82917),i=(r(52983),r(70856)),o=r(24406),a=r(27789),c=r(22381),s=r(55815),u=r(7747),l=r(97458);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.submitDisabled,r=e.children,n=e.styles,d=void 0===n?{}:n,f=(0,(0,a.Gc)().watch)(s.C9),y=(0,u.sX)().paymentRequest;return f===i.LM.GOOGLE_PAY||f===i.LM.APPLE_PAY?t||!y?null:(0,l.jsx)(o.xu,p(p({},d),{},{children:(0,l.jsx)(c.PaymentRequestButtonElement,{options:{paymentRequest:y}})})):r}},7747:function(e,t,r){"use strict";r.d(t,{bY:function(){return a},id:function(){return o},sX:function(){return c}});var n=r(52983),i=r(97458),o=n.createContext({paymentRequest:null,setPaymentRequest:function(){}}),a=function(e){var t=e.children,r=(0,n.useState)(null),a={paymentRequest:r[0],setPaymentRequest:r[1]};return(0,i.jsx)(o.Provider,{value:a,children:t})},c=function(){var e=(0,n.useContext)(o);return void 0===e&&console.warn("useParkingPassModal must be used within a ParkingPassModalProvider."),e}},93118:function(e,t,r){"use strict";r.d(t,{i1:function(){return h.i1},R2:function(){return h.R2},zo:function(){return h.zo},C9:function(){return h.C9},MV:function(){return h.MV},ZP:function(){return Ae},mx:function(){return h.mx},h1:function(){return h.h1}});var n=r(37705),i=r(16771),o=r(13040),a=r(97909),c=r(13066),s=r(19679),u=r(8496),l=r(82917),d=r(88002),p=r.n(d),f=r(52983),y=r(24406),m=r(22381),h=r(55815),g=r(30709),v=r(18922),b=r(38570),x=r(59480),P=r(14459),O=r(51347),j=r(48765),_=r(97646),w=r(65683);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){try{var t=e.user,r=t.email,n=t.admin,i=t.phoneNumber,o=e.paypalEmail,a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({admin_user:n,country:e.config.cloudfrontViewerCountryCode,email:r,paypal_email:o,phone_number:i||null},(0,_.Z)());j.ZP.track({event:"Add Paypal Button Clicked",properties:a,additionalOptions:{context:{protocols:{event_version:1}}}})}catch(s){var c=s;(0,w.X3)({error:c,errorMessage:"PayPal Error: ".concat(null===c||void 0===c?void 0:c.message)})}}var C=r(17957),D=function(){var e=(0,n.Z)(p().mark((function e(t){var r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.userId,n=t.cardExternalId,r&&n){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("User and Card required")));case 3:return e.abrupt("return",C.T.delete("/users/".concat(r,"/credit-cards/").concat(n,"/")));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=r(49838),S=r(3265),I=r(31860);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=function(e){var t=(0,A.NL)();return(0,S.D)({mutationFn:function(){var e=(0,n.Z)(p().mark((function e(t){var r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.user,n=t.card,e.abrupt("return",D({userId:r.id,cardExternalId:n.externalId}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(r,n){t.setQueryData([I.EK],(function(e){return M(M({},e),{},{paypalCard:null})})),e(n)}})};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){try{var t=e.user,r=t.email,n=t.admin,i=t.phoneNumber,o=e.paypalEmail,a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({admin_user:n,country:e.config.cloudfrontViewerCountryCode,email:r,paypal_email:o,phone_number:i||null},(0,_.Z)());j.ZP.track({event:"Paypal Remove Clicked",properties:a,additionalOptions:{context:{protocols:{event_version:1}}}})}catch(s){var c=s;(0,w.X3)({error:c,errorMessage:"PayPal Error: ".concat(null===c||void 0===c?void 0:c.message)})}}var N=r(97458),Y=function(e){var t=e.onHide,r=e.user,i=e.card,o=e.isOpen,a=(0,x.Z)(),c=T((function(e){var r=e.user,n=e.card;t(),Z({user:r,paypalEmail:n.paypalEmail,config:a})})),s=c.mutate,u=c.isError,l=c.isLoading,d=c.reset,f=function(){l||(t(),d())},m=function(){var e=(0,n.Z)(p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({user:r,card:i});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,N.jsxs)(y.u_,{hasHeader:!0,hasFooter:!0,size:"sm",closeOnOverlayClick:!l,isOpen:o,onClose:f,children:[(0,N.jsx)(y.xB,{children:"Remove PayPal account?"}),(0,N.jsx)(y.fe,{justifyContent:"center",flexDirection:"column",children:u?(0,N.jsx)(y.xv,{textAlign:"center",paddingBottom:6,color:"red.800",children:"We had some trouble removing your PayPal account. Please try again."}):(0,N.jsx)(y.xv,{textAlign:"center",paddingBottom:6,children:"You'll have to reconnect your account to use PayPal again."})}),(0,N.jsxs)(y.mz,{justifyContent:"center",children:[(0,N.jsx)(y.zx,{marginRight:3,variant:"secondary",onClick:f,children:"Cancel"}),(0,N.jsx)(y.zx,{variant:"secondary",color:"error",borderColor:"error",_hover:{borderColor:"red.800",color:"red.800"},onClick:m,children:"Remove PayPal"})]})]})},z=function(e){var t=e.email,r=e.onRemoveClick;return(0,N.jsxs)(y.kC,{"data-testid":"paypal-buttons",paddingX:4,paddingY:5,justifyContent:"space-between",alignItems:"center",sx:{"@media only screen and (max-width: 374px)":{flexDirection:"column",alignItems:"flex-start"}},children:[(0,N.jsxs)(y.kC,{sx:{"@media only screen and (max-width: 374px)":{width:"100%"}},overflow:"hidden",alignItems:"center",children:[(0,N.jsx)(y.Ee,{src:"/img/cc-icons/paypal.svg",alt:"Paypal Icon",display:"inline-block",width:"26px",height:"18px",marginRight:2,whiteSpace:"nowrap"}),(0,N.jsx)(y.xv,{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",color:"gray.dark",fontSize:"sm",children:t})]}),(0,N.jsx)(y.xu,{height:2.5,width:2.5}),(0,N.jsx)(y.zx,{fontSize:"sm",fontWeight:"normal",variant:"tertiary",onClick:r,children:"Remove"})]})},B=r(15261),G=r(27789);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q="Please log in to PayPal or select another payment method to complete your reservation.",F=function(e){var t=e.amountToCharge,r=e.currency,i=e.user,o=e.isSelected,a=(0,b.Up)(),c=(0,v.Z)(a,2),s=c[0],u=s.isRejected,l=s.isPending,d=s.isInitial,m=s.isResolved,g=s.options,j=c[1],_=(0,f.useState)(!1),k=_[0],C=_[1],D=(0,y.Sx)({base:!0,tablet:!1}),A=i.paypalCard,S=i.status,I=(0,G.Gc)(),R=I.register,M=I.setValue,T=I.watch,L=I.formState.errors,Z=I.setError,H=I.clearErrors,F=S===P.g.USER||i.status===P.g.ADMIN,V=T(h.Dy),W=0===t||F,X=(0,x.Z)();(0,f.useEffect)((function(){if((null===g||void 0===g?void 0:g.currency)!==r&&m){var e=X.paypalClientIdUsd;r===B._M.CAD&&(e=X.paypalClientIdCad),j({type:"resetOptions",value:U(U({},g),{},{"client-id":e,currency:r})})}}),[j,g,r,m,X.paypalClientIdCad,X.paypalClientIdUsd]);var K=function(){(0,b.e4)((0,b.k0)((0,O.PB)(X))),j({type:"setLoadingStatus",value:b.$b.INITIAL})};(0,f.useEffect)((function(){(null===g||void 0===g?void 0:g.intent)===O.hI&&W?j({type:"resetOptions",value:U(U({},g),{},{intent:O.yc})}):(null===g||void 0===g?void 0:g.intent)!==O.yc||W||j({type:"resetOptions",value:U(U({},g),{},{intent:O.hI})})}),[j,g,W]);var $=function(e){e.message&&"string"===typeof e.message&&(e.message.includes("popup close")||e.message.includes("Component closed"))||((0,w.X3)({error:e,errorMessage:"PayPal Error: ".concat(e.message)}),Z(h.yg,{type:"error",message:"Something may have gone wrong with PayPal, or the connection may have failed. Please try again or select a different payment method."})),K()},Q=function(){var e=(0,n.Z)(p().mark((function e(t,n){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.braintree.createPayment({flow:"vault",currency:r,displayName:"SpotHero",requestBillingAgreement:!0,enableShippingAddress:!1}).catch((function(e){return $(e),""})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),J=function(){var e=(0,n.Z)(p().mark((function e(n,i){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.braintree.createPayment({flow:"checkout",amount:t/100,currency:r,intent:O.hI,displayName:"SpotHero",requestBillingAgreement:!0,enableShippingAddress:!1}).catch((function(e){return $(e),""})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ee=function(){var e=(0,n.Z)(p().mark((function e(t,r){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.braintree.tokenizePayment(t).then((function(e){M(h.jU,e.nonce),M(h.Dy,e.details.email),E({user:i,paypalEmail:e.details.email,config:X})})).catch((function(e){return $(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();if(F&&A)return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("input",U(U({},R(h.v7,{shouldUnregister:!0,value:A.externalId})),{},{type:"hidden"})),(0,N.jsx)(z,{email:A.paypalEmail,onRemoveClick:function(){C(!0)}}),(0,N.jsx)(Y,{isOpen:k,user:i,card:A,onHide:function(){C(!1)}})]});if(V&&!L[h.yg])return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(z,{email:V,onRemoveClick:function(){M(h.Dy,""),M(h.jU,"")}}),(0,N.jsx)("input",U(U({},R(h.jU)),{},{type:"hidden"})),(0,N.jsx)("input",U(U({},R(h.Dy)),{},{type:"hidden"}))]});var te=null===t||void 0===t||l||d||(null===g||void 0===g?void 0:g.currency)!==r||(null===g||void 0===g?void 0:g.intent)===O.hI&&W||(null===g||void 0===g?void 0:g.intent)===O.yc&&!W;return u||!l&&!d&&!m?(0,N.jsxs)(y.xu,{"data-testid":"paypal-buttons",padding:4,children:[(0,N.jsx)("input",U(U({},R(h.yg,{validate:function(){return!o||q},shouldUnregister:!0})),{},{type:"hidden"})),(0,N.jsx)(y.xv,{color:"red.800",fontSize:"sm",paddingBottom:4,children:"We had some trouble loading PayPal, please try again or select another payment method."}),(0,N.jsx)(y.zx,{variant:"secondary",isFullWidth:D,onClick:K,children:"Try Again"})]}):(0,N.jsxs)(y.xu,{"data-testid":"paypal-buttons",padding:4,children:[(0,N.jsx)("input",U(U({},R(h.yg,{validate:function(){return!o||q},shouldUnregister:!0})),{},{type:"hidden"})),L[h.yg]?(0,N.jsx)(y.xv,{fontSize:"sm",color:"red.800",paddingBottom:4,children:L[h.yg].message}):(0,N.jsx)(y.xv,{fontSize:"sm",color:"gray.dark",paddingBottom:4,children:"Log in to PayPal to use it at SpotHero."}),(0,N.jsx)(y.xv,{fontSize:"sm",color:"gray.dark",paddingBottom:6,children:"You'll be returned to SpotHero to review and confirm your purchase."}),te?(0,N.jsx)(y.kC,{height:14,alignItems:"center",justifyContent:"center",children:(0,N.jsx)(y.aN,{thickness:2,size:10})}):(0,N.jsx)(y.xu,{width:{base:"auto",tablet:72},height:10,children:(0,N.jsx)(b.HQ,{className:"automation-paypal-button",fundingSource:"paypal",style:{color:"blue",shape:"pill",height:40},forceReRender:[t],onClick:function(){H(h.yg)},createBillingAgreement:W?Q:null,createOrder:W?null:J,onError:$,onApprove:ee})})]})},V=r(70856),W=r(30278),X=r(48327),K=r.n(X),$={src:"/consumer-checkout/_next/static/media/apple-pay.b38bdce0.svg",height:21,width:33,blurWidth:0,blurHeight:0},Q={src:"/consumer-checkout/_next/static/media/google-pay.a562ffbf.svg",height:21,width:33,blurWidth:0,blurHeight:0},J=r(44106),ee={src:"/consumer-checkout/_next/static/media/visa.35630977.svg",height:21,width:33,blurWidth:0,blurHeight:0},te={src:"/consumer-checkout/_next/static/media/mastercard.c6951493.svg",height:21,width:33,blurWidth:0,blurHeight:0},re={src:"/consumer-checkout/_next/static/media/american-express.7a4ec779.svg",height:21,width:33,blurWidth:0,blurHeight:0},ne={src:"/consumer-checkout/_next/static/media/discover.96fe044a.svg",height:21,width:33,blurWidth:0,blurHeight:0},ie={src:"/consumer-checkout/_next/static/media/jcb.f8acd295.svg",height:21,width:33,blurWidth:0,blurHeight:0},oe={src:"/consumer-checkout/_next/static/media/diners-club.7013cd76.svg",height:21,width:33,blurWidth:0,blurHeight:0};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={display:"inline-flex",width:"26px",height:"18px"},ue=function(e){var t=e.showLesserUsed,r=void 0!==t&&t,n=e.showAlternatePaymentOptions,i=void 0!==n&&n,o=e.showAmexAndDiscover,a=void 0===o||o,c=e.showMoreText,s=void 0===c||c,u=e.alignment,l=void 0===u?"center":u;return(0,N.jsxs)(y.xu,{justifyContent:l,display:"flex",alignItems:"center",children:[i&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{marginRight:1,children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:$,alt:"Apple Pay Icon"})})),(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{marginRight:1,children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:Q,alt:"Google Pay Icon"})})),(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{marginRight:1,children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:J.Z,alt:"Paypal Icon"})}))]}),(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{marginRight:1,children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:ee,alt:"VISA Icon"})})),(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{marginRight:1,children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:te,alt:"MasterCard Icon"})})),a&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{marginRight:1,children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:re,alt:"American Express Icon"})})),(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:ne,alt:"Discover Card Icon"})}))]}),r&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{marginRight:1,marginLeft:1,children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:ie,alt:"JCB Icon"})})),(0,N.jsx)(y.xu,ce(ce({as:"span"},se),{},{children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:oe,alt:"Diners Club Icon"})}))]}),s?(0,N.jsx)(y.xv,{color:"black",marginLeft:1,fontSize:"xs",display:"inline-block",children:"+ more"}):null]})},le=r(9460);function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var fe={"apple-pay":$,"google-pay":Q,paypal:J.Z,visa:ee,mastercard:te,"american-express":re,discover:ne,jcb:ie,"diners-club":oe},ye=function(e){var t=e.cardType;return(0,N.jsx)(y.xu,pe(pe({marginRight:1.5,whiteSpace:"nowrap",overflow:"hidden"},se),{},{children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:fe[t]||le.Z,alt:"".concat(t," Icon")})}))};function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ge=function(e){var t=e.control,r=e.required,n=f.useState(null),i=(0,v.Z)(n,2),o=i[0],a=i[1];return(0,N.jsxs)(y.xu,{paddingX:4,paddingBottom:4,sx:{".stripe-card-element":{paddingX:4,height:10,lineHeight:"lineHeights.10",backgroundColor:"white",backgroundImage:"none",borderWidth:"1px",borderStyle:"solid",borderColor:o?"error":"gray.medium",outline:"transparent solid 2px",outlineOffset:"2px",appearance:"none",fontSize:"sm",paddingTop:2.5,borderRadius:"md"}},children:[(0,N.jsx)(y.xv,{fontWeight:"semibold",marginBottom:1,display:"block",color:o?"error":"gray.dark",fontSize:"sm",as:"label",htmlFor:"cardElement",children:"Card Number"}),(0,N.jsx)(m.CardElement,{onChange:function(e){a(e.error?e.error.message:null)},id:"cardElement",className:"stripe-card-element",options:{style:{base:{fontFamily:'"Plus Jakarta Sans", sans-serif',fontSize:"14px",fontWeight:"300",lineHeight:"20px",color:"#5c7996","::placeholder":{color:"#cbd4de"}}}}}),o?(0,N.jsx)(y.xv,{fontSize:"xs",display:"block",marginTop:2,padding:0,color:"error",children:o}):null,(0,N.jsx)(G.Qr,{name:h.i1,shouldUnregister:!0,defaultValue:"",rules:{required:{value:r,message:"Please enter the cardholder name"}},control:t,render:function(e){var t,r=e.field,n=e.fieldState;return(0,N.jsx)(y.xu,{width:"100%",marginTop:3,children:(0,N.jsx)(y.II,he(he({},r),{},{isInvalid:n.invalid,errorMessage:null===(t=n.error)||void 0===t?void 0:t.message,id:h.i1,label:"Name on Card",width:"100%"}))})}})]})};r(92704);function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xe=function(e){var t=e.cards,r=e.isSelected,n=(0,G.Gc)(),i=n.control,o=n.clearErrors,a=n.formState.errors,c=n.register,s=f.useMemo((function(){return 0===t.length?h.zo:(t.find((function(e){return e.isDefault}))||t[0]).externalId}),[t]);return(0,N.jsxs)(y.xu,{width:"100%",sx:{".chakra-form-control":{paddingX:0},".chakra-form__label":{fontWeight:"semibold"}},children:[(0,N.jsxs)(y.xu,{borderColor:"gray.medium",borderBottomWidth:"1px",backgroundColor:"gray.light",paddingX:4,paddingY:3,children:[(0,N.jsx)(y.xu,{marginBottom:3.5,children:(0,N.jsx)(ue,{showLesserUsed:!0,alignment:"flex-start"})}),(0,N.jsxs)(y.kC,{direction:"row",align:"center",children:[(0,N.jsx)(y.xu,{as:"span",position:"relative",marginRight:1.5,color:"gray.400",height:"0.75rem",display:"flex",children:(0,N.jsx)(W.zc,{width:"0.75rem",height:"0.75rem"})}),(0,N.jsx)(y.xu,{as:"small",fontSize:"xs",color:"black",children:"All transactions are secure and encrypted"})]})]}),t.length>0?(0,N.jsx)(G.Qr,{defaultValue:s,name:h.R2,shouldUnregister:!0,control:i,rules:{required:{value:!0,message:"Please select a card"},onChange:function(e){a[h.i1]&&e.target.value!==h.zo&&o(h.i1)}},render:function(e){var n=e.field;return(0,N.jsxs)(y.FX,be(be({sx:{".chakra-radio__control":{marginTop:0},".chakra-radio__label":{display:"flex",alignItems:"center"},".chakra-stack > label:not(:last-of-type)":{borderBottomWidth:"1px",borderColor:"gray.200",borderStyle:"solid"},".chakra-stack > *":{marginTop:0}},marginBottom:0,id:h.R2},n),{},{children:[t.map((function(e){return(0,N.jsx)(y.Y8,{value:e.externalId,paddingX:4,paddingY:3,display:"flex",alignItems:"center",children:(0,N.jsxs)(y.kC,{alignItems:"center",children:[e.normalizedType&&(0,N.jsx)(ye,{cardType:e.normalizedType}),(0,N.jsxs)(y.xv,{fontSize:"sm",as:"span","data-testid":"PaymentPicker-card-".concat(e.normalizedType),children:[(0,V.iS)(e.normalizedType),(0,N.jsx)("sup",{children:"*"}),e.last4]})]})},e.externalId)})),(0,N.jsx)(y.Y8,{value:h.zo,paddingX:4,paddingY:3,display:"flex",alignItems:"center",children:(0,N.jsx)(y.kC,{alignItems:"center",children:(0,N.jsx)(y.xv,{fontSize:"sm",as:"span","data-testid":"PaymentPicker-new-card",children:"New Credit or Debit Card"})})}),n.value===h.zo&&(0,N.jsx)(y.xu,{width:"100%",children:(0,N.jsx)(ge,{control:i,required:r})})]}))}}):(0,N.jsxs)(y.xu,{marginTop:4,width:"100%",children:[(0,N.jsx)("input",be(be({},c(h.R2,{shouldUnregister:!0,value:h.zo})),{},{type:"hidden"})),(0,N.jsx)(ge,{control:i,required:r})]})]})},Pe=function(e){var t=e.isSelected,r=e.paymentMethod,n=e.onClick,i=V.mv[r],o=i.label,a=i.icon;return(0,N.jsxs)(y.zx,{flexDirection:"column",variant:"secondary",onClick:function(){n(r)},borderRadius:"sm",height:20,borderColor:t?"primary.default":"gray.medium",color:t?"primary.default":"gray.600",fontSize:"sm",fontWeight:t?"semibold":"regular",_focusVisible:{color:"primary.600",borderColor:"primary.default",boxShadow:"outline"},_focus:{boxShadow:"none"},children:[(0,N.jsx)(y.xu,{marginBottom:2,whiteSpace:"nowrap",overflow:"hidden",children:(0,N.jsx)(K(),{loader:function(e){var t=e.src;return"".concat(t)},unoptimized:!0,src:a,alt:"".concat(o," Icon")})}),o]})},Oe=r(82076),je=function(e){var t=e.user,r=e.priceBreakdown,n=e.allowAppleGooglePay,i=void 0===n||n,o=e.allowPayPal,a=void 0===o||o,c=e.submitDisabled,s=void 0!==c&&c,u=e.onPaymentAttempt,l=void 0===u?function(){}:u,d=e.error,p=e.canMakePaymentResult,m=e.showPaymentButtons,g=void 0===m||m,x=(0,G.Gc)(),P=x.control,O=x.watch,j=x.setValue,_=i&&(null===p||void 0===p?void 0:p.applePay),w=i&&(null===p||void 0===p?void 0:p.googlePay),k=(0,b.Up)(),E=(0,v.Z)(k,2),C=E[0].isInitial,D=E[1],A=0===t.creditCards.length;f.useEffect((function(){C&&D({type:"setLoadingStatus",value:b.$b.PENDING})}),[C,D]);var S=O(h.C9);f.useEffect((function(){S||(_&&A?j(h.C9,V.LM.APPLE_PAY):w&&A?j(h.C9,V.LM.GOOGLE_PAY):A&&a&&t.paypalCard?j(h.C9,V.LM.PAYPAL):j(h.C9,V.LM.CREDIT_CARD))}),[_,w,A,t.paypalCard,a,S,j]);var I=function(e){j(h.C9,e)};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(y.xu,{width:"100%",borderColor:"gray.medium",borderWidth:"1px",borderRadius:"base",children:[(0,N.jsxs)(y.xu,{borderColor:"gray.medium",borderBottomWidth:S===V.LM.APPLE_PAY||S===V.LM.GOOGLE_PAY?null:"1px",borderBottomRadius:S===V.LM.APPLE_PAY||S===V.LM.GOOGLE_PAY?"base":null,backgroundColor:"gray.light",borderTopRadius:"base",paddingX:4,paddingTop:3,paddingBottom:5,children:[(0,N.jsx)(y.xv,{marginBottom:3,fontSize:"base",color:"black",fontWeight:"semibold",children:"Choose your payment method"}),(0,N.jsx)(y.rj,{templateColumns:{base:"repeat(auto-fill, 6rem)",mobileXL:"repeat(auto-fill, 7rem)"},gridGap:{base:2,tablet:3},sx:{"@media only screen and (max-width: 374px)":{gridTemplateColumns:"auto"},"@media screen and (min-width: 375px) and (max-width: 386px)":{gridTemplateColumns:"repeat(auto-fill, 5.75rem)"}},children:(0,N.jsx)(G.Qr,{defaultValue:V.LM.CREDIT_CARD,name:h.C9,control:P,render:function(e){var t=e.field;return(0,N.jsxs)(N.Fragment,{children:[_&&(0,N.jsx)(Pe,{onClick:I,paymentMethod:V.LM.APPLE_PAY,isSelected:S===V.LM.APPLE_PAY}),w&&(0,N.jsx)(Pe,{onClick:I,paymentMethod:V.LM.GOOGLE_PAY,isSelected:S===V.LM.GOOGLE_PAY}),(0,N.jsx)(Pe,{onClick:I,paymentMethod:V.LM.CREDIT_CARD,isSelected:t.value===V.LM.CREDIT_CARD}),a&&(0,N.jsx)(Pe,{onClick:I,paymentMethod:V.LM.PAYPAL,isSelected:t.value===V.LM.PAYPAL})]})}})})]}),(0,N.jsxs)(y.xu,{children:[(0,N.jsx)(y.xu,{display:S===V.LM.CREDIT_CARD?"block":"none",children:(0,N.jsx)(xe,{isSelected:S===V.LM.CREDIT_CARD,cards:t.creditCards})}),(0,N.jsx)(y.xu,{display:S===V.LM.PAYPAL?"block":"none",children:(0,N.jsx)(F,{isSelected:S===V.LM.PAYPAL,amountToCharge:null===r||void 0===r?void 0:r.totalPrice,currency:null===r||void 0===r?void 0:r.currency,user:t})})]})]}),d?(0,N.jsx)(y.bZ,{marginTop:6,status:"error",showIcon:!0,description:d.description,title:d.title,paddingX:3}):null,g?(0,N.jsx)(Oe.Z,{submitDisabled:s,styles:{width:"100%",marginTop:6,marginBottom:3},children:(0,N.jsx)(y.zx,{marginTop:6,width:"100%",type:"submit",marginBottom:3,disabled:s||!S,onClick:l,children:"Confirm Payment"})}):null]})},_e=r(7747);function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){(0,l.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var Ce=function(e){(0,c.Z)(r,e);var t=Ee(r);function r(){var e;(0,i.Z)(this,r);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),(0,l.Z)((0,a.Z)(e),"state",{canMakePaymentResult:null,noStripeError:!1}),(0,l.Z)((0,a.Z)(e),"context",void 0),e}return(0,o.Z)(r,[{key:"handleTokenRequestEvent",value:function(e){var t=this.props,r=t.onPaymentAttempt,i=t.handleSubmit,o=t.onSubmit,a=t.onFailure;r(),i(function(){var t=(0,n.Z)(p().mark((function t(r){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o({paymentRequest:e,formVals:ke(ke({},r),{},(0,l.Z)({},h.MV,e.token.id))});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){a(g.$.FRONTEND_VALIDATION,Object.values(t)),e.complete("fail")}))()}},{key:"initializePaymentRequest",value:function(){var e=this;if(!this.context.paymentRequest&&this.props.priceBreakdown){var t=this.props.stripe.paymentRequest(ke(ke({},De(this.props.priceBreakdown)),{},{requestPayerEmail:!0,requestPayerName:!0,requestPayerPhone:!0}));t.canMakePayment().then((function(r){e.context.setPaymentRequest(t),e.setState({canMakePaymentResult:r})})),t.on("token",(function(t){e.handleTokenRequestEvent(t)}))}}},{key:"componentDidMount",value:function(){var e=this;this.props.stripe&&this.props.elements?this.initializePaymentRequest():setTimeout((function(){e.props.stripe&&e.props.elements||e.setState({noStripeError:!0})}),3500)}},{key:"componentDidUpdate",value:function(e){var t;this.props.stripe&&this.props.elements&&!this.context.paymentRequest&&this.initializePaymentRequest(),this.context.paymentRequest&&this.props.priceBreakdown&&this.props.priceBreakdown.totalPrice!==(null===(t=e.priceBreakdown)||void 0===t?void 0:t.totalPrice)&&this.context.paymentRequest.update(De(this.props.priceBreakdown))}},{key:"render",value:function(){var e=this.props,t=e.user,r=e.priceBreakdown,n=e.allowAppleGooglePay,i=e.allowPayPal,o=e.submitDisabled,a=e.onPaymentAttempt,c=e.stripe,s=e.elements,u=e.error,l=e.showPaymentButtons;return this.state.noStripeError?(0,N.jsx)(y.bZ,{status:"error",title:"Our Payment Options couldn't load",description:"Try a quick refresh. Still stuck? Wait a few minutes or try disabling ad-blockers or browser extensions."}):c&&s&&this.context.paymentRequest?(0,N.jsx)(je,{user:t,submitDisabled:o,priceBreakdown:r,allowAppleGooglePay:n,allowPayPal:i,onPaymentAttempt:a,paymentRequest:this.context.paymentRequest,canMakePaymentResult:this.state.canMakePaymentResult,error:u,showPaymentButtons:l}):(0,N.jsx)(y.kC,{"data-testid":"Loader",height:96,alignItems:"center",justifyContent:"center",children:(0,N.jsx)(y.aN,{thickness:4,size:16})})}}]),r}(f.Component);(0,l.Z)(Ce,"contextType",_e.id);var De=function(e){var t;return{country:"US",currency:(null===(t=e.currency)||void 0===t?void 0:t.toLowerCase())||"usd",total:{label:"Total",amount:e.totalPrice||0,pending:!1},displayItems:e.items.map((function(e){return{amount:e.price.value,label:e.shortDescription}}))}},Ae=function(e){var t=e.user,r=e.priceBreakdown,n=e.handleSubmit,i=e.error,o=e.onSubmit,a=e.allowAppleGooglePay,c=void 0===a||a,s=e.allowPayPal,u=void 0===s||s,l=e.submitDisabled,d=void 0!==l&&l,p=e.onPaymentAttempt,f=void 0===p?function(){}:p,y=e.onFailure,h=void 0===y?function(){}:y,g=e.showPaymentButtons,v=void 0===g||g,b=(0,m.useStripe)(),x=(0,m.useElements)();return(0,N.jsx)(Ce,{user:t,submitDisabled:d,priceBreakdown:r,handleSubmit:n,onSubmit:o,allowAppleGooglePay:c,allowPayPal:u,onPaymentAttempt:f,onFailure:h,stripe:b,elements:x,error:i,showPaymentButtons:v})}},55815:function(e,t,r){"use strict";r.d(t,{C9:function(){return d},Dy:function(){return f},MV:function(){return h},R2:function(){return u},h1:function(){return g},i1:function(){return l},jU:function(){return p},mx:function(){return v},v7:function(){return m},yg:function(){return y},zo:function(){return s}});var n=r(37705),i=r(88002),o=r.n(i),a=r(70856),c=r(14459),s="new",u="creditCard",l="creditCardName",d="selectedPaymentMethod",p="paypalNonce",f="paypalEmail",y="paypalIncomplete",m="paypalCardId",h="stripeToken",g=function(){var e=(0,n.Z)(o().mark((function e(t){var r,n,i,a,c,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.stripe,n=t.elements,i=t.name,a=t.onError,r&&n){e.next=4;break}return a({message:"Stripe not initialized",type:"api_error"}),e.abrupt("return",null);case 4:return e.prev=4,e.next=7,r.createToken(n.getElement("card"),{name:i});case 7:if(!(c=e.sent).error){e.next=11;break}return a(c.error),e.abrupt("return",null);case 11:return e.abrupt("return",c.token.id);case 14:return e.prev=14,e.t0=e.catch(4),s=e.t0,a({message:(null===s||void 0===s?void 0:s.message)||"",type:"api_error"}),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){var t=e.formVals,r=e.email,n=e.user,i=e.purchaseForCustomer,o=void 0!==i&&i,l=e.paymentRequired,y=void 0===l||l,g=e.saveCardOverride,v=void 0!==g&&g,b=n.status!==c.g.GUEST&&!o&&y,x={};return t[d]===a.LM.PAYPAL?(t[m]&&(x={card_external_id:t[m]}),t[p]&&t[f]&&(x={braintree_payment_method_nonce:t[p],paypal_email:t[f],payment_processor:"braintree",save_card:b||v})):x=t[d]===a.LM.APPLE_PAY?{stripe_token:t[h],stripe_card_type:"apple_pay"}:t[d]===a.LM.GOOGLE_PAY?{stripe_token:t[h],stripe_card_type:"android_pay",google_instant_user_email:r,google_instant_card_info:"Google Pay Card"}:t[u]===s?{stripe_token:t[h],stripe_card_type:"cc",payment_processor:"stripe",save_card:b||v,default_card:!(n.status===c.g.GUEST||!n.justCreated)||t.setCardAsDefault}:{card_external_id:t[u]},x}},18863:function(e,t,r){"use strict";r.d(t,{ec:function(){return m},An:function(){return g},Sf:function(){return h.Sf},bC:function(){return l},Wk:function(){return d},R2:function(){return c},dZ:function(){return i},UU:function(){return y},Eb:function(){return h.Eb},eK:function(){return h.eK},dj:function(){return h.dj},dn:function(){return h.dn},Fl:function(){return h.Fl},Z0:function(){return h.Z0},nc:function(){return h.nc},yc:function(){return h.yc},FI:function(){return s},_T:function(){return p},wd:function(){return u},NW:function(){return f},ro:function(){return o},JH:function(){return a},KH:function(){return n}});var n="h:mm A",i="ddd, MMM D",o="HH:mm",a="HH:mm:ss",c="YYYY-MM-DD",s="YYYY-MM-DD[T]HH:mm",u="YYYY-MM-DD[T]HH:mm:ss",l="YYYY-MM-DDTHH:mm:ssZ",d="YYYY-MM-DDTHH:mm:ss.SSSZ",p=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}$/,f=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}$/,y=["00:00:00","00:30:00","01:00:00","01:30:00","02:00:00","02:30:00","03:00:00","03:30:00","04:00:00","04:30:00","05:00:00","05:30:00","06:00:00","06:30:00","07:00:00","07:30:00","08:00:00","08:30:00","09:00:00","09:30:00","10:00:00","10:30:00","11:00:00","11:30:00","12:00:00","12:30:00","13:00:00","13:30:00","14:00:00","14:30:00","15:00:00","15:30:00","16:00:00","16:30:00","17:00:00","17:30:00","18:00:00","18:30:00","19:00:00","19:30:00","20:00:00","20:30:00","21:00:00","21:30:00","22:00:00","22:30:00","23:00:00","23:30:00"],m="newVehicle",h=r(39226),g={ATTENDANT:"attendant",COVERED_PARKING:"covered-parking",EV:"ev",HEATED:"heated",IMMEDIATE_PARKING:"immediate-parking",IN_OUT:"in-out",NO_CONTRACT:"no-contract",ONE_TAP:"one-tap",PAVED:"paved",SELF_PARK:"self-park",SHUTTLE:"shuttle",TOUCHLESS:"touchless",VALET:"valet",WHEELCHAIR:"wheelchair",MONTHLY_IN_OUT:"monthly_in_out"}},39226:function(e,t,r){"use strict";r.d(t,{Ax:function(){return E},Eb:function(){return R},Fl:function(){return C},Py:function(){return w},Sf:function(){return D},Z0:function(){return a},dj:function(){return k},dn:function(){return c},eK:function(){return S},jZ:function(){return A},nc:function(){return o},yc:function(){return I}});var n,i=r(82917),o={AIRPORT:"airport",EVENT_PACKAGE:"event_package",MONTHLY:"monthly",TRANSIENT:"transient",EVENT:"event"},a={CANCELLED:"cancelled",PENDING:"pending",INVALID:"invalid",VALID:"valid",RECURRENCE:"recurrence",EXPIRED:"expired",VOID:"void",INTEGRATION_PENDING:"integration_pending"},c={REFUND:"refund",SUCCESS:"success",REFUND_PENDING:"refund pending",PENDING:"pending",FAILED:"failed",DISPUTE:"dispute",EXPIRED:"expired"},s="operator_scan",u="printout",l="license_plate",d="scan_in_out",p="scan_in_ticket_out",f="pull_ticket_scan_out",y="pull_ticket_call_button",m="pull_ticket_see_attendant",h="self_park_see_attendant",g="valet",v="vendgate",b="vendgate_with_scan",x="hang",P="access_card",O="sticker",j="lpr",_="gated_lpr_with_scan",w=(n={},(0,i.Z)(n,s,"The attendant will scan your parking pass at this facility."),(0,i.Z)(n,u,"You will display your printed parking pass at this facility."),(0,i.Z)(n,l,"Your license plate number will allow you to park at this facility."),(0,i.Z)(n,d,"Scan your pass to enter and exit the facility."),(0,i.Z)(n,p,"Scan your pass to receive a prevalidated ticket and enter the facility. Insert your ticket to leave."),(0,i.Z)(n,f,"Pull a ticket to enter the facility. When you leave insert your ticket then scan your pass."),(0,i.Z)(n,y,"Pull a ticket to enter the facility. When you leave press the call button at the exit gate."),(0,i.Z)(n,m,"Pull a ticket when you arrive then see the attendant to check in."),(0,i.Z)(n,h,"When you arrive see the attendant to check in."),(0,i.Z)(n,g,"See attendant when you arrive and they will park your car."),(0,i.Z)(n,v,"Use the VendGate link in your parking pass to open the gate."),(0,i.Z)(n,b,""),(0,i.Z)(n,x,"You will receive a hang tag to park at this facility."),(0,i.Z)(n,P,"You will receive an access pass to park at this facility."),(0,i.Z)(n,O,"You will receive a sticker to park at this facility."),(0,i.Z)(n,"DEFAULT","You will display your parking pass at this facility."),n),k={SCAN_CODE:"scanCode",LICENSE_PLATE:"licensePlate",DISPLAY_ID:"displayId"},E=[u,l,j,_],C={NOT_STARTED:"Reservation Hasn't Started Yet",ACTIVE:"Reservation Active",ENDED:"Reservation Has Ended"},D={NOT_ALLOWED:"no",CUSTOMER:"customer",HERO:"hero"},A="oversize_fee",S="Oversize Fee",I={SCHEDULED:"scheduled",ON_DEMAND:"on-demand",RIDE_SHARE:"taxi",CURBSIDE_VALET:"curbside-valet",PUBLIC_TRANSIT:"public-transit"},R={yes:"Unlimited In/Out",yes_fee:"Unlimited In/Out with Fee",yes_limited:"Limited In/Out",yes_limited_fee:"Limited In/Out with Fee",no:null}},30709:function(e,t,r){"use strict";r.d(t,{$:function(){return n},Z:function(){return g}});var n,i=r(82917),o=r(46714),a=r(65683),c=r(48765),s=r(10444),u=r(97646),l=r(3775),d=r(18863),p=r(84959),f=r(14459);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e.FRONTEND_VALIDATION="frontend/validation",e.FRONTEND_PAYMENT="frontend/payment",e.BACKEND_RESERVE="backend/reserve",e.BACKEND_REBOOK="backend/rebook",e.BACKEND="backend"}(n||(n={}));var h=["generic_decline","insufficient_funds","lost_card","stolen_card","expired_card","incorrect_cvc","processing_error","incorrect_number"];function g(e){try{var t,r=e.isMonthly,i=e.isAirport,y=e.isEventPackage,g=e.isScan2Pay,v=e.eventId,b=e.user,x=e.facility,P=x.id,O=x.title,j=x.airport,_=x.operatorId,w=x.citySlug,k=x.timezone,E=x.state,C=e.rateInfo.sessionId,D=e.selectedRate,A=D.starts,S=D.ends,I=D.priceBreakdown,R=e.formVals,M=R.promoCode,T=R.phone,L=R.selectedVehicle,Z=R.newLicensePlate,N=R.selectedPaymentMethod,Y=R.vehicleInfoId,z=R.selectedEndTimestamp,B=R.guestEmail,G=e.cloudfrontViewerCountryCode,H=e.initMoment,U=e.failureLocation,q=e.errors,F=(0,o.Z)(),V=Boolean(v),W="",X=null;if(L===d.ec)W=Z;else W=(null===(t=b.vehicles.find((function(e){return e.vehicleProfileId===L})))||void 0===t?void 0:t.licensePlateValue)||"",X=L;var K=b.status===f.g.GUEST?B:b.email,$=(0,o.Z)(A).tz(k),Q=(0,o.Z)(S).tz(k),J=z?o.Z.tz(z,k):Q,ee=(0,s.Z)({isMonthly:r,isAirport:i,isEvent:V,isEventPackage:y}),te=(0,p._)(I),re=q.map((function(e){return e.code})).filter((function(e){return e}));U===n.FRONTEND_PAYMENT&&(re[0]=(ie=re[0])&&0!==ie.length?h.includes(ie)?ie:"card_declined":"");var ne=m(m(m(m({admin_user:b.admin},i&&{airport_code:j.details.code}),{},{checkout_started_to_purchase_failed:H?F.diff(H,"seconds"):null,city:w,country:G||"",currency:I.currency.toLowerCase(),email:K||"",entered_phone_number:Boolean(T),errors:q.map((function(e){return e.message})),error_codes:re},V&&{event_id:v}),{},{failure_location:U,license_plate:W,operator_id:_,oversized_vehicle:Boolean(te),parking_spot_id:P,parking_spot_name:O,parking_type:ee,payment_type:l.A[N],phone_number:T||null,price:I.totalPrice,products:[m(m({category:ee},M&&{coupon:M}),{},{name:O,price:I.totalPrice,product_id:String(P),quantity:1})],promo_code_used:Boolean(M),rental_end_time_local:y?null:Q.format(d.Wk),rental_end_time_utc:y?null:(0,o.Z)(S).toISOString(),rental_lead_time:$.diff(F.tz(k),"minutes"),rental_length:y||r?null:Q.diff($,"minutes"),rental_start_time_local:$.format(d.Wk),rental_start_time_utc:(0,o.Z)(A).toISOString(),session_id:C,state:E},(0,u.Z)()),{},{user_logged_in:b.status!==f.g.GUEST,user_entered_rental_length:y||r?null:J.diff($,"minutes"),vehicle_info_id:Y,vehicle_profile_id:X,is_scan2pay:g});c.ZP.track({event:"Checkout Failed",properties:ne,additionalOptions:{context:{protocols:{event_version:1}}}})}catch(oe){(0,a.X3)({error:oe,errorMessage:"Segment Event Failed - trackCheckoutFailed"})}var ie}},10444:function(e,t,r){"use strict";function n(e){var t=e.isMonthly,r=e.isAirport,n=e.isEvent,i=e.isEventPackage;return r?"airport":n?"event":i?"event_package":t?"monthly":"transient"}r.d(t,{Z:function(){return n}})},3775:function(e,t,r){"use strict";r.d(t,{A:function(){return a}});var n,i=r(82917),o=r(70856),a=(n={},(0,i.Z)(n,o.LM.CREDIT_CARD,"credit card"),(0,i.Z)(n,o.LM.APPLE_PAY,"apple pay"),(0,i.Z)(n,o.LM.GOOGLE_PAY,"google pay"),(0,i.Z)(n,o.LM.PAYPAL,"paypal"),n)},74660:function(){},81778:function(){},5743:function(e,t,r){"use strict";r.d(t,{CAR_PROTECTION_ADDON_TYPE:function(){return o},OrderTypes:function(){return n},UserStatuses:function(){return i.g}});r(74660);var n,i=r(14459);!function(e){e.AIRPORT="airport",e.EVENT_PACKAGE="event_package",e.MONTHLY="monthly",e.TRANSIENT="transient",e.POWER_BOOKING="power_booking"}(n||(n={}));r(9846),r(81778);var o="car_protection"},9846:function(){},46714:function(e,t,r){"use strict";var n=r(73474),i=r.n(n),o=r(5381),a=r.n(o),c=r(69298),s=r.n(c),u=r(25660),l=r.n(u),d=r(12167),p=r.n(d),f=r(31890),y=r.n(f);i().extend(a()),i().extend(s()),i().extend(p()),i().extend(l()),i().extend(y()),t.Z=i()},84959:function(e,t,r){"use strict";r.d(t,{_:function(){return n}});var n=function(e){return e?e.items.find((function(e){return"oversize_vehicle_fee_flat"===e.type})):null}},97646:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(4462);function i(){var e=n.default.get("sh-user-location","session");return e?{user_location:e}:null}},4462:function(e,t,r){e.exports=r(61594)}}]);